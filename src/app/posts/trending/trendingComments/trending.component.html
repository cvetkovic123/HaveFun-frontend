<br>
<h2 class="text-center">Comments</h2>

<form
    #addNewComment="ngForm"
    class="register-form"
    (ngSubmit)="onAddNewComment(addNewComment)">
    <div class="form-row">
        <div class="form-group col-md-2">
            <label>{{ name }}</label>
        </div>
        <div class="form-group col-md-10">
            <input 
                type="text"
                id="comment"
                name="comment"
                required
                ngModel
                minlength="1"
                maxlength="400"
                class="form-control"
                placeholder="Write a comment..">
        </div>
    </div>
</form>
<div *ngIf="isLoading" style="text-align: center;">
    <app-loading-spinner></app-loading-spinner>
  </div>
<div class="container" *ngIf="!isLoading">
    <cdk-virtual-scroll-viewport style="height: 500px" itemSize="20">
        <div class="row" *cdkVirtualFor="let postComment of comments">
            <div class="col-md-2">
                <img
                    class="img-round" 
                    src="{{postComment.image}}">
            </div>
            <div class="col-md-9">
                <p style="margin-bottom: 0;"><span>{{postComment.name}}</span> {{postComment.commentDate | dateAgo}}</p>
                <textarea 
                    value="{{postComment.comment}}" 
                    name="comment" 
                    readonly
                    id="comment" 
                    cols="30" 
                    rows="1"></textarea>
            </div>
        </div>
    </cdk-virtual-scroll-viewport>
</div>